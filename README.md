# Fire Rise

パズルゲームの試作です

## 概要

積み上げ型のパズルゲームです。
ウォーターソートパズルやスパイダーソリティアに近いものです。

## ゲームルール

### 基本構造

- **盤面（Board）**: 複数の列とブロックで構成される
- **列（Line）**: ブロックを積み上げる場所。各列には最大サイズ（積める数）がある
- **ブロック（Block）**: 色を持つ単位。列に下から順に積まれる

### 移動ルール

ブロックを別の列に移動できる条件：

1. **同じ列への移動は不可**

   - 自分自身の列には移動できない

2. **同色の分割は不可**

   - 同じ色のブロックが連続している場合、途中から分割できない
   - 移動時は、選択したブロックからその列の一番上まで全て一緒に移動する

3. **移動先の余白が必要**

   - 移動先の列に、移動するブロック数分の空きが必要

4. **移動先の条件**
   - 空の列、または
   - 移動先の一番上のブロックと同じ色の場合のみ移動可能

### 完成条件

以下の両方を満たすとクリア：

- 各色のブロックが全て連続している（分断されていない）
- 同じ色が複数の列に散らばっていない

※ 列が単色で埋まっている必要はなく、複数色が 1 列に積まれていても OK

### 失敗条件

- 移動可能な手がなくなったら手詰まり（失敗）

### バリエーションルール

| ルール | 説明 |
| ------ | ---- |
|        |      |

## 技術スタック

- **フロントエンド**: Vanilla JavaScript (ES2024+)
- **UI フレームワーク**: [elii](./src/local_modules/elii/) - 軽量リアクティブフレームワーク
- **型安全性**: TypeScript 型定義 + JSDoc
- **ビルドツール**: なし（ネイティブ ESM）

## アーキテクチャ

### コアコンセプト

## プロジェクト構造

```
src/
├── local_modules/
│   └── elii/         # UIフレームワーク（詳細は elii/README.md）
└── index.html        # エントリーポイント
```

## 開発ガイド

### 型定義の活用

JSDoc で TypeScript の型チェックを利用：

```javascript
/**
 * @param {unknown} obj
 * @returns {obj is object}
 */
export function isObject(obj) {
  return typeof obj === 'object' && obj !== null
}
```

## 設計思想

### 型安全性の維持

- TypeScript 型定義で静的チェック
- JSDoc でランタイム検証なし
- 開発体験の向上

### シンプルな実装

- 複雑なフレームワーク不要
- 最小限の依存関係
- 理解しやすいコード

## 開発状況

**完了:**

- [x] **型定義**（global.d.ts）

  - TypeScript による型安全性
  - JSDoc との連携

**未完了:**

- [ ] ゲームロジック
- [ ] UI 実装
- [ ] バランス調整

## ライセンス

未定
